<style>
.dazzle-schema md-input-container {
    margin: 5px 0;
}
.md-select-menu-container.md-active {
    z-index:10000;
}
</style>    
    
    <form name="myForm" ng-cloak ng-init="init()">
     <md-toolbar>
        <div class="md-toolbar-tools">
            <h2>表單設定</h2>
            <span flex></span>
            <md-button class="md-primary md-raised" ng-click="addItem(-1)">
                <md-tooltip>新增</md-tooltip>
                <i class="fa fa-plus"></i>
            </md-button>
            <md-button class="md-primary md-raised" ng-click="save()">
                <md-tooltip>儲存</md-tooltip>
                <i class="fa fa-floppy-o"></i>
            </md-button>
            <md-button class="md-primary md-raised" ng-click="close()">
                <md-tooltip>取消</md-tooltip>
                <i class="fa fa-window-close"></i>
            </md-button>
        </div>
    </md-toolbar>

        <md-dialog-content>
            
                                                 

            <div class="md-dialog-content" style="min-height: 400px;">
                <md-tabs md-dynamic-height md-border-bottom>
                    <md-tab label="基本設定">
                        <md-content class="md-padding" >
                                    <md-input-container flex="50">
                                          <input name="formId" ng-model="formId" placeholder="Form ID" disabled>
                                    </md-input-container>
                                    <md-input-container flex="50">
                                          <input name="表格名稱" ng-model="formLabel" placeholder="表格名稱" required>
                                           <div ng-messages="myForm['表格名稱'].$error" ng-show="myForm['表格名稱'].$dirty">
                                              <div ng-message="required">必須填寫!</div>
                                            </div>
                                    </md-input-container>
                                    <md-input-container flex="50">
                                          <input name="發送電郵" ng-model="formEmail" placeholder="發送電郵" required>
                                           <div ng-messages="myForm['發送電郵'].$error" ng-show="myForm['發送電郵'].$dirty">
                                              <div ng-message="required">必須填寫!</div>
                                            </div>
                                    </md-input-container>

                            </md-content>
                    </md-tab>
                    <md-tab label="欄位設定">
                        <md-content class="md-padding">

                                <div layout="row" ng-repeat="sm in schemas  track by $index" class="dazzle-schema">
                                    
                                    <md-input-container flex="40">
                                          <input name="title-{{$index}}" ng-model="sm.fieldName" placeholder="請輸入欄位名稱" required>
                                           <div ng-messages="myForm['title-'+$index].$error" ng-show="myForm['title-'+$index].$dirty">
                                              <div ng-message="required">必須填寫!</div>
                                            </div>
                                    </md-input-container>
                                    <md-input-container flex="30">

                                            <md-select ng-model="sm.directive" ng-change="choose(sm)">
                                                <md-option><em>*請選擇</em></md-option>
                                                <md-option ng-repeat="type in types" ng-value="type.id">
                                                  {{type.label}}
                                                </md-option>
                                              </md-select>
                                            <md-button style="margin:0 20px;" ng-click="choose(sm)">欄位設定</md-button>
                                            
                                    </md-input-container>
                                    
                                    <!--<md-input-container flex="20">-->
                                    <!--      <md-button class="md-icon-button" ng-click="addItem($index)" aria-label="Add Item">-->
                                    <!--        <i class="fa fa-plus"></i>-->
                                    <!--      </md-button>-->
                                    <!--      <md-button class="md-icon-button" aria-label="Minus Item" ng-click="removeItem($index)">-->
                                    <!--        <i class="fa fa-minus"></i>-->
                                    <!--      </md-button>-->
                                    <!--</md-input-container>-->
                                </div>                                
                               



                        </md-content>
                        
                        
                        
                    </md-tab>

                    <md-tab label="資料">
                        <md-content class="md-padding">
                        
                        </md-content>
                    </md-tab>

                </md-tabs>
                <div layout="row">
                    <md-input-container flex="100">
                            <span flex></span>
                             <md-button class="md-primary md-raised" ng-click="addTable()">
                                生成
                            </md-button>
                            
                            
                    </md-input-container>
                </div>
            </div>
        </md-dialog-content>



    <md-sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id="right">

          <md-toolbar class="md-theme-light">
            <h1 class="md-toolbar-tools">項目設定</h1>
          </md-toolbar>
          <md-content layout-padding>

            <div id="popupDialog"></div>
            <md-button ng-click="closeSidebar()" class="md-primary">
              關閉
            </md-button>
          </md-content>

    </md-sidenav>

    </form>